<%- include('partials/header'); -%>

<!-- RECENT POSTS & CATEGORIES-->

<div class="container-fluid">
  <div class="row">

    <!-- Latest Posts -->
    <div class="col-lg-9 ps-5 pe-5">
      <h2 class="big-heading section-heading">Latest Posts</h2>

      <div class="row row-cols-1 row-cols-lg-3 row-cols-md-2">

        <% latestPosts.forEach((post) => { %>
        <div class="col gallery-item">
          <div class="card h-100">
            <img src="<%= post.imageUrl %>" alt="" class="card-img-top h-50">
            <div class="card-body">
              <h5 class="card-title"><%= post.title %></h5>
              <a href="/posts/<%= post._id %>" class="btn btn-outline-primary btn-sm">Read More</a>
            </div>
          </div>
        </div>
        <% }); %>

      </div>

      <!-- PAGINATION-->

      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">

          <li class="page-item <% if(currentPage == 1) { %>disabled<% } %>">
            <a class="page-link" href="/?page=<%= currentPage - 1 %>">
              <span>&laquo;</span>
            </a>
          </li>

          <% for (var i = 1; i <= numOfPages; i++) { %>
            <li class="page-item <% if(currentPage == i) { %>active<% } %>">
              <a class="page-link" href="/?page=<%= i %>"><%= i %></a>
            </li>
          <% }; %>

          <li class="page-item <% if(currentPage == numOfPages) { %>disabled<% } %>">
            <a class="page-link" href="/?page=<%= currentPage + 1 %>">
              <span>&raquo;</span>
            </a>
          </li>

        </ul>
      </nav>
    </div>

    <!-- Number of Countries -->
    <div class="col-lg-3">
      <h2 class="big-heading section-heading">Countries</h2>

      <ul class="list-group">

        <% countryCount.forEach((item, i)=>{ %>
        <%  if(i < 6) { %>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <a href="/country/<%= item._id %>" class="list-group-item list-group-item-action border-0"><%= item._id %></a>
              <span class="badge bg-primary rounded-pill"><%= item.count %></span>
            </li>
        <%  } %>
        <% }) %>

      </ul>
    </div>
  </div>
</div>

<!-- QUOTES -->

<section id="quotes">

  <div id="quote-carousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <h2 class="big-heading">'The world is a book and those who do not travel read only one page.'</h2>
        &nbsp;
        <h4>Saint Augustine</h4>
      </div>
      <div class="carousel-item">
        <h2 class="big-heading">'A journey of a thousand miles begins with a single step.'</h2>
        &nbsp;
        <h4>Lao Tzu</h4>
      </div>
      <div class="carousel-item">
        <h2 class="big-heading">'Traveling â€“ it leaves you speechless, then turns you into a storyteller.'</h2>
        &nbsp;
        <h4>Ibn Battuta</h4>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#quote-carousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#quote-carousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>
</section>

<%- include('partials/footer'); -%>
